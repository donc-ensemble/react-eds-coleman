{"version":3,"file":"blocks/promo-banner/promo-banner.js","mappings":"iPAWIA,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IACxBF,EAAQG,OAAS,SAAc,KAAM,QACrCH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,IAAQM,QAAS,IAAQA,O,YCV1D,MAyCaC,EAA0CA,EACrDC,iBACAC,YAGEC,EAAAA,EAAAA,IAAA,OAAKC,UAAU,UAASC,SAAA,EACtBC,EAAAA,EAAAA,GAAA,OAAAD,UACEC,EAAAA,EAAAA,GAAA,WAAAD,SACGJ,EAAeM,KAAI,CAACC,EAAQC,IACX,UAAhBD,EAAOE,MACLJ,EAAAA,EAAAA,GAAA,UAEEI,KAAMF,EAAOE,MAAQ,GACrBC,OAAQH,EAAOI,KAAO,IAFjBH,IAKPH,EAAAA,EAAAA,GAAA,OAEEO,QAAQ,OACRC,IAAI,GACJF,IAAKJ,EAAOI,KAAO,GACnBG,MAAM,OACNC,OAAO,OALFP,UAWfH,EAAAA,EAAAA,GAAA,OAAAD,SACGH,EAAMK,KAAI,CAACU,EAAMR,KAChBH,EAAAA,EAAAA,GAAA,KAAAD,SAAgBY,GAARR,UAMlBT,EAAYkB,YAAc,cAE1B,MAUA,EAViBC,UACf,MAAMC,EAtDuBC,KAC7B,MAAMC,EAAUD,EAAME,cAAc,OAC9BC,EAAUF,GAASC,cAAc,WACjCE,EAAYH,GAASC,cAAc,KAPtBG,MAgBnB,MAAO,CAAEzB,eAPcuB,EA/BMA,KAC7B,MAAMG,EAAUC,MAAMC,KAAKL,EAAQM,iBAAiB,WAAWvB,KAC5DC,IAAM,CACLE,KAAMF,EAAOuB,aAAa,QAC1BnB,IAAKJ,EAAOuB,aAAa,cAIvBC,EAAMR,EAAQD,cAAc,OAQlC,OAPIS,GACFL,EAAQM,KAAK,CACXvB,KAAM,QACNE,IAAKoB,EAAID,aAAa,SAInBJ,EAAQpB,KAAK2B,IAAI,IACnBA,EACHtB,IAAKsB,EAAKtB,KAAKuB,QAAQ,aAAc,kBAAoB,QACxD,EAY8BC,CAAsBZ,GAAW,GAOzCtB,MANXuB,GAVKC,EAWHD,EAVTC,GAASW,WAAa,IAWtBC,MAAM,QACN/B,KAAKgC,GAAMA,IACd,GAE4B,EA0CPC,CAAsBnB,GAE/CoB,EAAAA,GAAAA,WAAoBpB,GAAOqB,QACzBpC,EAAAA,EAAAA,GAACqC,EAAAA,GAAAA,WAAgB,CAAAtC,UACfC,EAAAA,EAAAA,GAACN,EAAW,IAAKoB,MAEpB,C,gECjGCwB,E,MAA0B,GAA4B,KAE1DA,EAAwBX,KAAK,CAACY,EAAOC,GAAI,muCAAouC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,yDAAyD,MAAQ,GAAG,SAAW,qeAAqe,WAAa,MAEz2D,S","sources":["webpack://eds-react-coleman/./src/blocks/promo-banner/promo-banner.scss?3bdd","webpack://eds-react-coleman/./src/blocks/promo-banner/promo-banner.tsx","webpack://eds-react-coleman/./src/blocks/promo-banner/promo-banner.scss"],"sourcesContent":["\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./promo-banner.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./promo-banner.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./promo-banner.scss\";\n\nexport type PromoBannerProps = {\n  pictureSources: SourceItem[];\n  texts: string[];\n};\n\nexport type SourceItem = {\n  type: string | null;\n  src: string | null;\n};\n\nconst extractPictureSources = (picture: HTMLPictureElement): SourceItem[] => {\n  const sources = Array.from(picture.querySelectorAll(\"source\")).map(\n    (source) => ({\n      type: source.getAttribute(\"type\"),\n      src: source.getAttribute(\"srcset\"),\n    }),\n  );\n\n  const img = picture.querySelector(\"img\");\n  if (img) {\n    sources.push({\n      type: \"image\",\n      src: img.getAttribute(\"src\"),\n    });\n  }\n\n  return sources.map((item) => ({\n    ...item,\n    src: item.src?.replace(\"format=png\", \"format=webply\") ?? null,\n  }));\n};\n\nconst extractText = (element: HTMLElement | null): string => {\n  return element?.innerHTML || \"\";\n};\n\nconst extractContentFromDOM = (block: HTMLElement): PromoBannerProps => {\n  const wrapper = block.querySelector(\"div\");\n  const picture = wrapper?.querySelector(\"picture\");\n  const paragraph = wrapper?.querySelector(\"p\");\n\n  const pictureSources = picture ? extractPictureSources(picture) : [];\n  const texts = paragraph\n    ? extractText(paragraph)\n        .split(\"<br>\")\n        .map((p) => p)\n    : [];\n\n  return { pictureSources, texts };\n};\n\nexport const PromoBanner: React.FC<PromoBannerProps> = ({\n  pictureSources,\n  texts,\n}) => {\n  return (\n    <div className=\"wrapper\">\n      <div>\n        <picture>\n          {pictureSources.map((source, index) =>\n            source.type !== \"image\" ? (\n              <source\n                key={index}\n                type={source.type || \"\"}\n                srcSet={source.src || \"\"}\n              />\n            ) : (\n              <img\n                key={index}\n                loading=\"lazy\"\n                alt=\"\"\n                src={source.src || \"\"}\n                width=\"1600\"\n                height=\"333\"\n              />\n            ),\n          )}\n        </picture>\n      </div>\n      <div>\n        {texts.map((text, index) => (\n          <p key={index}>{text}</p>\n        ))}\n      </div>\n    </div>\n  );\n};\nPromoBanner.displayName = \"PromoBanner\";\n\nconst decorate = async (block: HTMLElement) => {\n  const promoBannerProps = extractContentFromDOM(block);\n\n  ReactDOM.createRoot(block).render(\n    <React.StrictMode>\n      <PromoBanner {...promoBannerProps} />\n    </React.StrictMode>,\n  );\n};\n\nexport default decorate;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.promo-banner-wrapper{padding:0 !important;margin:0 !important;max-width:100% !important}.promo-banner img{width:100%;height:auto;display:block}.promo-banner .wrapper{position:relative}.promo-banner .wrapper div:nth-of-type(1) img{width:100%;object-fit:cover}.promo-banner .wrapper div:nth-of-type(2){position:absolute;top:50%;right:0;width:50%;transform:translateY(-50%);text-align:left}.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(1){font-size:35px;font-weight:700;letter-spacing:normal;line-height:1.25;padding-right:5rem;margin:2rem 0}.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(2){font-size:16px;margin:0;font-weight:400}@media(max-width: 1300px){.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(1){font-size:28px;padding-right:3rem}}@media(max-width: 900px){.promo-banner .wrapper div:nth-of-type(2){position:unset;width:100%;transform:unset;text-align:center}.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(1){font-size:24px;padding:0 1rem}.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(2){margin:0 auto}}@media(max-width: 600px){.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(1){font-size:20px;padding:0 1rem}.promo-banner .wrapper div:nth-of-type(2)>p:nth-of-type(2){font-size:14px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/blocks/promo-banner/promo-banner.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACI,oBAAA,CACA,mBAAA,CACA,yBAAA,CAGA,kBACE,UAAA,CACA,WAAA,CACA,aAAA,CAGF,uBACE,iBAAA,CAGE,8CACE,UAAA,CACA,gBAAA,CAIJ,0CACE,iBAAA,CACA,OAAA,CACA,OAAA,CACA,SAAA,CACA,0BAAA,CACA,eAAA,CAEA,2DACE,cAAA,CACA,eAAA,CACA,qBAAA,CACA,gBAAA,CACA,kBAAA,CACA,aAAA,CAGF,2DACE,cAAA,CACA,QAAA,CACA,eAAA,CAKN,0BAGM,2DACE,cAAA,CACA,kBAAA,CAAA,CAMR,yBAEI,0CACE,cAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CAEA,2DACE,cAAA,CACA,cAAA,CAGF,2DACE,aAAA,CAAA,CAMR,yBAGM,2DACE,cAAA,CACA,cAAA,CAGF,2DACE,cAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","PromoBanner","pictureSources","texts","_jsxs","className","children","_jsx","map","source","index","type","srcSet","src","loading","alt","width","height","text","displayName","async","promoBannerProps","block","wrapper","querySelector","picture","paragraph","element","sources","Array","from","querySelectorAll","getAttribute","img","push","item","replace","extractPictureSources","innerHTML","split","p","extractContentFromDOM","ReactDOM","render","React","___CSS_LOADER_EXPORT___","module","id"],"sourceRoot":""}