{"version":3,"file":"blocks/carousel/carousel.js","mappings":"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","sources":["webpack://eds-react-coleman/./src/blocks/carousel/carousel.scss?ade4","webpack://eds-react-coleman/./src/blocks/carousel/carousel.tsx","webpack://eds-react-coleman/./src/blocks/carousel/carousel.scss"],"sourcesContent":["\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./carousel.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./carousel.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {StrictMode, useEffect, useRef, useState} from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./carousel.scss\";\nimport {readBlockConfig} from \"../../../../scripts/aem.js\";\n\ntype CarouselProps = {\n    block: HTMLElement;\n    blockConfig: [];\n}\n\nexport const Carousel: ({block, blockConfig}: CarouselProps) => void = ({block, blockConfig}: CarouselProps) => {\n    const [title, setTitle] = useState<any | null>(null);\n    const [carouselData, setCarouselData] = useState<any | null>(null);\n    const [isPrevDisabled, setIsPrevDisabled] = useState(true);\n    const [isNextDisabled, setIsNextDisabled] = useState(false);\n    const maxScrollWidth = useRef(0);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const carousel = useRef(null);\n\n\n    useEffect(() => {\n        setTitle(blockConfig?.title);\n        fetch(blockConfig?.service)\n            .then((res) => res.json())\n            .then((json) => {\n                const carouselItems = json.data;\n                setCarouselData(carouselItems);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (carousel !== null && carousel.current !== null) {\n            carousel.current.scrollLeft = carousel.current.offsetWidth * currentIndex;\n        }\n    }, [currentIndex]);\n\n    useEffect(() => {\n        maxScrollWidth.current = carousel.current\n            ? carousel.current.scrollWidth - carousel.current.offsetWidth\n            : 0;\n    }, []);\n\n    const movePrev = () => {\n        if (currentIndex > 0) {\n            setCurrentIndex((prevState) => prevState - 1);\n        }\n    };\n\n    const moveNext = () => {\n        if (\n            carousel.current !== null &&\n            carousel.current.offsetWidth * currentIndex <= maxScrollWidth.current\n        ) {\n            setCurrentIndex((prevState) => prevState + 1);\n        }\n    };\n\n    const isDisabled = (direction) => {\n        if (direction === 'prev') {\n            setIsPrevDisabled(currentIndex <= 0);\n            return currentIndex <= 0;\n        }\n\n        if (direction === 'next' && carousel.current !== null && currentIndex > 0) {\n            return (\n                carousel.current.offsetWidth * currentIndex >= maxScrollWidth.current\n            );\n        }\n\n        return false;\n    };\n\n    const carouselElements = carouselData?.map((item, index) => {\n        return <div className=\"slider-item\" key={index}>\n            <a href={item.url}>\n                {item.bestseller ?\n                <div className=\"best-seller\">\n                    <span>Best Seller</span>\n                </div> : ''\n            }\n                <div className=\"slider-image\">\n                    <div className=\"image-wrapper\">\n                        <picture>\n                            <source type=\"image/webp\"\n                                    srcSet={item.image + \"?width=200&amp;format=webply&amp;optimize=medium\"}/>\n                            <img loading=\"eager\" alt={item.name}\n                                 src={item.image + \"?width=200&amp;format=webply&amp;optimize=medium\"}\n                                 width=\"200\" height=\"200\"/></picture>\n                    </div>\n                </div>\n                <div className=\"slider-text\"><strong>{item.name}</strong></div>\n                <div className=\"price\">{item.price}</div>\n            </a>\n        </div>\n    });\n\n    return (\n        <>\n            <div className=\"default-content-wrapper\">\n                <h3 id=\"new-arrivalstop-picks\">{title}</h3>\n            </div>\n            <section className={'slider'}>\n                <span className=\"slider-control prev\" onClick={movePrev} disabled={isDisabled('prev')}><i className=\"gg-chevron-left-o\"></i></span>\n                <span className=\"slider-control next\" onClick={moveNext} disabled={isDisabled('next')}><i className=\"gg-chevron-right-o\"></i></span>\n                <div className=\"slider-container\" data-multislide=\"false\" data-step=\"sm\" ref={carousel}>\n                    {carouselElements}\n                </div>\n            </section>\n        </>\n    );\n\n}\nCarousel.displayName = \"Carousel\";\n\nconst decorate = async (block: HTMLElement) => {\n    const blockConfig = readBlockConfig(block);\n    block.parentElement.classList.add('section');\n    block.parentElement.classList.add('carousel-container');\n\n    ReactDOM.createRoot(block).render(\n        <StrictMode>\n            <Carousel block={block} blockConfig={blockConfig}/>\n        </StrictMode>\n    );\n};\n\nexport default decorate;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.carousel .slider{display:flex;align-items:center;position:relative;width:100%}.carousel .slider-container{cursor:grab;display:flex;overflow:hidden;scroll-behavior:smooth;max-width:100%;margin:0 auto;padding:1rem}.carousel .slider-container.dragging{scroll-behavior:auto;cursor:grabbing}.carousel .slider-item{box-sizing:border-box;padding:12px;flex:0 0 auto;max-width:100%;width:100%;display:flex;align-items:center;justify-content:center}.carousel .slider-image{width:fit-content}.carousel .slider-container[data-step=sm] .slider-item{max-width:100%}.carousel .slider-control{border:0;position:absolute;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 4px 8px rgba(38,38,38,.1);border-radius:40px;z-index:1;position:absolute;line-height:0;cursor:pointer;padding:0;border:0;outline:0}.carousel .slider-control.prev{left:0}.carousel .slider-control.next{right:0}.carousel .slider-control.prev[disabled=true],.carousel .slider-control.next[disabled=true]{background-color:var(--color-neutral-200)}.carousel .slider-item a{font-size:.875rem;line-height:1.25rem;color:#484745;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 0 8px rgba(38,38,38,0.1019607843);width:100%;height:100%;padding:12px;width:100%;box-sizing:border-box;background-color:#fff;position:relative}.carousel .slider-item a:hover{border:1.5px solid #000}.carousel .slider-item .best-seller{position:absolute;top:0;left:0;background:#34302b;color:#fff;text-transform:uppercase;font-size:12px;border-radius:0 0 2px 0;padding:2px 8px}.carousel .slider-item a .price{display:flex;justify-content:flex-start;align-items:center;margin-top:1rem;font-size:18px;width:100%;font-weight:500}.carousel .slider-item a .price span{font-size:.75rem;line-height:1.25rem;font-weight:400;margin-top:0;margin-bottom:0rem;padding:.25rem;font-weight:bold;border-radius:.5rem;margin-left:.75rem;color:var(--color-white);background-color:var(--color-red)}.carousel .slider-item a:hover{text-decoration:none}.carousel .slider-item img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;--webkit-user-select:none}.carousel .slider-item .image-wrapper{margin:0 auto}.carousel .slider-item picture img{border-radius:5px;width:200px;height:200px;object-fit:contain}.carousel .slider-text{border-radius:5px;text-align:start;margin-top:5px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;width:100%;text-align:left}.carousel .slider-text p{margin:0 5px;padding:5px;display:contents}.carousel .slider-text a{font-size:inherit;width:100%}.carousel .slider-text a:hover{color:inherit}.carousel .gg-chevron-right-o,.carousel .gg-chevron-left-o{box-sizing:border-box;position:relative;display:block;width:40px;height:40px}.carousel .gg-chevron-right-o::after{content:\"\";display:block;box-sizing:border-box;position:absolute;width:8px;height:8px;border-bottom:1.5px solid;border-right:1.5px solid;transform:translate(-50%, -50%) rotate(-45deg);left:50%;top:50%}.carousel .gg-chevron-left-o::after{content:\"\";display:block;box-sizing:border-box;position:absolute;width:8px;height:8px;border-bottom:1.5px solid;border-left:1.5px solid;transform:translate(-50%, -50%) rotate(45deg);left:50%;top:50%}.carousel .slider-dots{display:flex;justify-content:center;margin-top:10px}.carousel .slider-dot{width:10px;height:10px;background-color:var(--color-brand-700);border-radius:50%;margin:0 5px;cursor:pointer}.carousel .slider-dot.active{background-color:var(--color-brand-500)}.carousel .slider-container.dragging a{pointer-events:none}@media(width <= 768px){.carousel .slider-item picture img{width:revert-layer}}@media(width >= 768px){.carousel .slider-container[data-step=sm] .slider-item{max-width:33.3333333333%}}@media(width >= 1024px){.carousel .slider-container[data-step=sm] .slider-item{max-width:25%}}@media(width >= 1440px){.carousel .slider-container[data-step=sm] .slider-item{max-width:20%}}@media(width >= 1900px){.carousel .slider-container[data-step=sm] .slider-item{max-width:16.6666666667%}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/blocks/carousel/carousel.scss\"],\"names\":[],\"mappings\":\"AACE,kBACE,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CAGF,4BACE,WAAA,CACA,YAAA,CACA,eAAA,CACA,sBAAA,CACA,cAAA,CACA,aAAA,CACA,YAAA,CAEA,qCACE,oBAAA,CACA,eAAA,CAIJ,uBACE,qBAAA,CACA,YAAA,CACA,aAAA,CACA,cAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CAGF,wBACE,iBAAA,CAGF,uDACE,cAAA,CAGF,0BACE,QAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,UAAA,CACA,WAAA,CACA,yCAAA,CACA,sCAAA,CACA,kBAAA,CACA,SAAA,CACA,iBAAA,CACA,aAAA,CACA,cAAA,CACA,SAAA,CACA,QAAA,CACA,SAAA,CAEA,+BACE,MAAA,CAGF,+BACE,OAAA,CAGF,4FACE,yCAAA,CAKF,yBACE,iBAAA,CACA,mBAAA,CACA,aAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,8CAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CACA,qBAAA,CACA,qBAAA,CACA,iBAAA,CAEA,+BACE,uBAAA,CAIJ,oCACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,kBAAA,CACA,UAAA,CACA,wBAAA,CACA,cAAA,CACA,uBAAA,CACA,eAAA,CAIA,gCACE,YAAA,CACA,0BAAA,CACA,kBAAA,CACA,eAAA,CACA,cAAA,CACA,UAAA,CACA,eAAA,CAEA,qCACE,gBAAA,CACA,mBAAA,CACA,eAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CACA,gBAAA,CACA,mBAAA,CACA,kBAAA,CACA,wBAAA,CACA,iCAAA,CAIJ,+BACE,oBAAA,CAIJ,2BACE,sBAAA,CACA,qBAAA,CACA,mBAAA,CACA,iBAAA,CACA,yBAAA,CAGF,sCACE,aAAA,CAGF,mCACE,iBAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CAIJ,uBACE,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,mBAAA,CACA,oBAAA,CACA,2BAAA,CACA,eAAA,CACA,UAAA,CACA,eAAA,CAEA,yBACE,YAAA,CACA,WAAA,CACA,gBAAA,CAGF,yBACE,iBAAA,CACA,UAAA,CAEA,+BACE,aAAA,CAKN,2DACE,qBAAA,CACA,iBAAA,CACA,aAAA,CACA,UAAA,CACA,WAAA,CAGF,qCACE,UAAA,CACA,aAAA,CACA,qBAAA,CACA,iBAAA,CACA,SAAA,CACA,UAAA,CACA,yBAAA,CACA,wBAAA,CACA,8CAAA,CACA,QAAA,CACA,OAAA,CAGF,oCACE,UAAA,CACA,aAAA,CACA,qBAAA,CACA,iBAAA,CACA,SAAA,CACA,UAAA,CACA,yBAAA,CACA,uBAAA,CACA,6CAAA,CACA,QAAA,CACA,OAAA,CAGF,uBACE,YAAA,CACA,sBAAA,CACA,eAAA,CAGF,sBACE,UAAA,CACA,WAAA,CACA,uCAAA,CACA,iBAAA,CACA,YAAA,CACA,cAAA,CAEA,6BACE,uCAAA,CAIJ,uCACE,mBAAA,CAIJ,uBACE,mCACE,kBAAA,CAAA,CAMJ,uBACE,uDACE,wBAAA,CAAA,CAIJ,wBACE,uDACE,aAAA,CAAA,CAIJ,wBACE,uDACE,aAAA,CAAA,CAIJ,wBACE,uDACE,wBAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","Carousel","block","blockConfig","title","setTitle","useState","carouselData","setCarouselData","isPrevDisabled","setIsPrevDisabled","isNextDisabled","setIsNextDisabled","maxScrollWidth","useRef","currentIndex","setCurrentIndex","carousel","useEffect","fetch","service","then","res","json","carouselItems","data","current","scrollLeft","offsetWidth","scrollWidth","isDisabled","direction","carouselElements","map","item","index","_jsx","className","children","_jsxs","href","url","bestseller","type","srcSet","image","loading","alt","name","src","width","height","price","_Fragment","id","onClick","movePrev","prevState","disabled","moveNext","ref","displayName","async","readBlockConfig","parentElement","classList","add","ReactDOM","render","StrictMode","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}